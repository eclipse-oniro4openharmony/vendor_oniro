diff --git a/mindspore-src/source/mindspore/ccsrc/plugin/device/cpu/kernel/nnacl/BUILD.gn b/mindspore-src/source/mindspore/ccsrc/plugin/device/cpu/kernel/nnacl/BUILD.gn
index b4441847..7e620d8e 100644
--- a/mindspore-src/source/mindspore/ccsrc/plugin/device/cpu/kernel/nnacl/BUILD.gn
+++ b/mindspore-src/source/mindspore/ccsrc/plugin/device/cpu/kernel/nnacl/BUILD.gn
@@ -58,7 +58,7 @@ config("nnacl_public_config") {
     ]
 
     # emulator not support avx512
-    if (!is_emulator) {
+    if (!is_emulator && product_name != "x86_general") {
       cflags_c += [ "-mavx512f" ]
       defines += [ "ENABLE_AVX512" ]
     }
@@ -789,7 +789,7 @@ sse_avx_avx512_sources = [
 ]
 
 # only x86_64 real machine support avx512
-if (target_cpu == "x86_64" && !is_emulator) {
+if (target_cpu == "x86_64" && !is_emulator && product_name != "x86_general") {
   sse_avx_avx512_sources += [ "assembly/avx512/ConvDwFp32RowAVX512.S" ]
 }
 
@@ -926,7 +926,7 @@ x86_64_only_sources = sse_avx_avx512_sources
 x86_64_only_sources += avx_fp32_kernel_sources
 
 # emulator not support avx512
-if (is_emulator) {
+if (is_emulator || product_name == "x86_general") {
   not_needed(avx512_fp32_kernel_sources)
   not_needed(gemm_avx512_kernel_sources)
   not_needed(gemm_mask_avx512_kernel_sources)
diff --git a/mindspore-src/source/mindspore/lite/BUILD.gn b/mindspore-src/source/mindspore/lite/BUILD.gn
index ef21bd1d..65df1b0e 100644
--- a/mindspore-src/source/mindspore/lite/BUILD.gn
+++ b/mindspore-src/source/mindspore/lite/BUILD.gn
@@ -340,7 +340,7 @@ all_sources += missing_sources
 SUPPORT_NNRT = false
 
 # currently, only arm/arm64 real machine support nnrt
-if ((target_cpu == "arm" || target_cpu == "arm64") && !is_emulator) {
+if ((target_cpu == "arm" || target_cpu == "arm64") && !is_emulator && product_name != "x86_general") {
   SUPPORT_NNRT = true
 }
 
@@ -408,7 +408,7 @@ ohos_shared_library("mindspore_lib") {
     ]
 
     # emulator not support avx512
-    if (!is_emulator) {
+    if (!is_emulator && product_name != "x86_general") {
       defines += [ "ENABLE_AVX512" ]
     }
   }
diff --git a/mindspore-src/source/mindspore/lite/src/litert/kernel/cpu/BUILD.gn b/mindspore-src/source/mindspore/lite/src/litert/kernel/cpu/BUILD.gn
index 1ddb7ca4..ef7811ff 100644
--- a/mindspore-src/source/mindspore/lite/src/litert/kernel/cpu/BUILD.gn
+++ b/mindspore-src/source/mindspore/lite/src/litert/kernel/cpu/BUILD.gn
@@ -249,7 +249,7 @@ control_kernel_sources = [
 ]
 
 # emulator not support avx512
-if (!is_emulator) {
+if (!is_emulator && product_name != "x86_general") {
   cpu_kernel_sources += [
     "fp32/convolution_im2col_avx512_fp32.cc",
     "fp32/matmul_fp32_avx512.cc",
@@ -339,7 +339,7 @@ ohos_source_set("cpu_kernel_obj") {
       "ENABLE_SSE",
       "ENABLE_AVX",
     ]
-    if (!is_emulator) {
+    if (!is_emulator && product_name != "x86_general") {
       defines += [ "ENABLE_AVX512" ]
     }
   }
